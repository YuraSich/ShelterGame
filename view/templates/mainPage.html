<!DOCTYPE html>
<html >
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="mainPageStyle.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
          integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
          crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-migrate-1.4.1.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@1,700&display=swap"
        rel="stylesheet">
</head>
<body style="min-height: 250px; position: relative">

<div class="bgimg-1 firstScreen">
  <div class="caption">
    <span class="border caption__title">Shelter Game</span>
    <span class="border caption__sub-title">Добро пожаловать на сайт!</span>
  </div>
</div>
<div id="nav-bar" class="nav-bar nav-bar_bottom">
  <div class="my-container">
    <div class="menu">
      <div class="menu__logo ">
        <img id="fon" src="output-onlinetexttools.png" width="155" alt="ShelterGame" class="">
        <!--        <img src="http://bunker-online.com/assets/images/logo.png" width="155" alt="ShelterGame">-->
      </div>

      <div class="nav-mobile ">
        <div id="nav-mobile">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <div class="nav-desktop ">
        <ul class="buttons" style="">
          <li>Главная</li>
          <li>Новости</li>
          <li>Как играть</li>
          <li>Комнаты</li>
          <li>Вход и регистрация</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!--<nav>
    <div class="my-container">
      <div class="menu">
        <div class="menu__logo">
          <img src="http://bunker-online.com/assets/images/logo.png"  width="155" alt="ShelterGame">
        </div>
        <div>
          <ul class="buttons">
            <li>Главная</li>
            <li>Новости</li>
            <li>Как играть</li>
            <li>Зарегистрироваться</li>
          </ul>
        </div>
      </div>
    </div>
</nav>-->

<div style="background-color: #a4a4a4; color: black; padding: 40px 10px 10px 10px; width: 100%">
  <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid aspernatur at eveniet expedita facere
    impedit, inventore laboriosam minima possimus ratione voluptatibus! Ab accusantium debitis laboriosam nostrum, sint
    vitae voluptate.
  </div>
  <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid aspernatur at eveniet expedita facere
    impedit, inventore laboriosam minima possimus ratione voluptatibus! Ab accusantium debitis laboriosam nostrum, sint
    vitae voluptate.
  </div>
  <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid aspernatur at eveniet expedita facere
    impedit, inventore laboriosam minima possimus ratione voluptatibus! Ab accusantium debitis laboriosam nostrum, sint
    vitae voluptate.
  </div>
  <div>Adipisci aliquam asperiores commodi cumque eius est eum labore maiores, necessitatibus, nesciunt nisi odit
    perspiciatis placeat porro possimus quia quis quisquam rem repellendus sed sequi soluta, sunt tempore unde veniam!
  </div>
  <div>Ab at, delectus facere itaque iure officiis quae quibusdam, repellat sit unde vero voluptas? Accusamus alias
    deleniti ex, facere impedit minima nesciunt nihil obcaecati odit, pariatur qui quo sed, soluta.
  </div>
  <div>Aliquam architecto autem, eligendi et explicabo in maxime mollitia natus suscipit voluptate! Atque debitis dolor,
    eum exercitationem facilis, in modi nesciunt nihil perferendis perspiciatis quam qui repellat similique tempore vel?
  </div>
  <div>Alias aliquam deleniti earum eius enim illum, inventore iure magnam necessitatibus numquam possimus praesentium
    saepe voluptates? Atque debitis delectus eligendi est iusto, labore laboriosam, minus officia quae repellendus
    sapiente vel.
  </div>
  <div>Aperiam architecto beatae commodi debitis dignissimos dolor dolore doloremque error eum illo ipsam maxime
    nesciunt, nihil non numquam omnis optio recusandae repellendus sint sit, sunt suscipit vitae voluptate voluptatem
    voluptatibus?
  </div>
  <div>Accusantium beatae eaque est iure quae similique sit voluptatem! Alias at atque consequatur dicta illo neque qui
    quo similique suscipit? Aspernatur dicta ex hic iste maiores quisquam reiciendis tempore veniam!
  </div>
  <div>Deserunt dolor enim eos fugit illo laudantium modi quaerat quam quo tempore! Accusantium animi beatae commodi
    dolorum earum explicabo fugit ipsam maiores numquam quisquam reiciendis repellat sint, vel, voluptas voluptates?
  </div>
  <div>Ab dignissimos illum nesciunt repudiandae? Accusantium aperiam, aut blanditiis commodi ea eligendi expedita hic
    impedit inventore maiores molestias nesciunt nostrum, numquam officiis praesentium quaerat quidem sequi temporibus
    ullam veritatis voluptates.
  </div>
  <div>Animi corporis dignissimos dolores ex incidunt iure laborum molestiae odio officia quisquam? Aliquam amet
    aspernatur cum eum expedita. Accusamus deleniti dignissimos dolorum harum inventore molestias, non officia
    perspiciatis reprehenderit suscipit.
  </div>
  <div>Alias aperiam corporis cumque, error est nemo nobis numquam omnis pariatur perspiciatis qui quia rerum
    voluptatibus. Dolorem earum magnam molestias nesciunt obcaecati quam sed vitae. Facilis quasi reprehenderit suscipit
    veniam.
  </div>
  <div>Cupiditate expedita in, optio quos repellendus totam voluptates! Enim explicabo nesciunt nisi numquam optio
    quaerat voluptates? Aliquid maiores maxime praesentium qui quo. Asperiores, assumenda corporis dignissimos dolor qui
    saepe sequi!
  </div>
  <div>Asperiores illo nisi pariatur voluptas? Ducimus iure laudantium modi nemo nesciunt, nihil officia quas quasi
    similique ullam. Accusamus accusantium adipisci consequatur corporis itaque minima nostrum, omnis ratione sequi
    velit? Aliquid.
  </div>
  <div>Alias eius laudantium nobis officia omnis quaerat quidem sit ullam. Accusamus adipisci aliquid asperiores
    delectus enim exercitationem, id mollitia natus nemo nesciunt nihil non quam quasi quibusdam tenetur unde veniam.
  </div>
  <div>Aliquam consequatur distinctio fugit hic incidunt labore necessitatibus odio, praesentium quod similique!
    Consectetur corporis ducimus enim, eum illum inventore labore minus molestiae mollitia nihil omnis recusandae
    reiciendis tempore temporibus vitae.
  </div>
  <div>Ad beatae debitis dignissimos eligendi error esse expedita fuga ipsam iste itaque modi nemo perferendis placeat
    quidem recusandae, sapiente soluta, totam vel voluptate, voluptates. Consequatur nam placeat ratione suscipit velit!
  </div>
  <div>Architecto asperiores assumenda beatae, dicta dolores esse ex exercitationem id laboriosam libero necessitatibus
    nemo nisi nobis nostrum odio officia quia ratione recusandae sapiente sed, sunt tempora veritatis voluptate. Cum,
    sapiente.
  </div>
  <div>Aperiam atque beatae blanditiis eius eligendi enim explicabo fugit magnam, necessitatibus obcaecati odio
    provident quae quidem quisquam sint soluta ullam vitae? Ab ad blanditiis dolorem, ducimus facilis impedit
    perferendis reprehenderit!
  </div>
  <div>Ab accusantium aspernatur blanditiis ex impedit ipsum laborum maiores minus nemo nihil nostrum, obcaecati odio
    officiis, quam qui sint tenetur veritatis voluptas voluptates voluptatum. Autem cumque debitis excepturi fuga nihil.
  </div>
  <div>Ab animi dolores hic porro vel? Accusamus accusantium asperiores aut autem consequatur deserunt dolore eum
    excepturi hic labore laborum magnam neque nulla officiis, porro quasi qui suscipit vel voluptas voluptates.
  </div>
  <div>Ab animi dolores hic porro vel? Accusamus accusantium asperiores aut autem consequatur deserunt dolore eum
    excepturi hic labore laborum magnam neque nulla officiis, porro quasi qui suscipit vel voluptas voluptates.
  </div>
  <div>Ab animi dolores hic porro vel? Accusamus accusantium asperiores aut autem consequatur deserunt dolore eum
    excepturi hic labore laborum magnam neque nulla officiis, porro quasi qui suscipit vel voluptas voluptates.
  </div>
</div>
</body>
<script>

  // var url = "https://cleaner.dadata.ru/api/v1/clean/address";
  // var token = "f06da36fdf65eca9a4bc6521fcd64063e142e48a";
  // var secret = "e94b4ca84ba0e05382a53bf4fb9098263ae9fcb5";
  // var query = "москва сухонская 11";
  //
  // var options = {
  //   method: "POST",
  //   mode: "cors",
  //   headers: {
  //     "Content-Type": "application/json",
  //     "Authorization": "Token " + token,
  //     "X-Secret": secret
  //   },
  //   body: JSON.stringify([query])
  // };
  //
  // fetch(url, options)
  //   .then(response => response.text())
  //   .then(result => console.log(result))
  //   .catch(error => console.log("error", error));

  // function uuid() {
  //   let s4 = function () {
  //     return Math.floor(Math.random() * 0x10000).toString(16);
  //   };
  //   return s4() + s4() + "-" + s4() + "-" + s4() + "-" + s4() + "-" + s4() + s4() + s4();
  // }
  //
  // alert(uuid());

  function loadFunction() {

    // высота "шапки", px
    let headerElem = document.getElementsByClassName('firstScreen')[0];
    let height_header = headerElem.offsetHeight;
    // высота блока с меню, px
    let navBarElem = document.getElementById('nav-bar');
    let height_navBar = navBarElem.offsetHeight;
    let top;
    console.log("height_header = " + height_header);
    console.log("height_navBar = " + height_navBar);

    console.log("this", this);

    function calculateScroll() {
      console.log("calculateScroll");
      // отступ сверху
      console.log("resize");
      headerElem = document.getElementsByClassName('firstScreen')[0];
      height_header = headerElem.offsetHeight;
      // высота блока с меню, px
      navBarElem = document.getElementById('nav-bar');
      height_navBar = navBarElem.offsetHeight;

      console.log("height_header = " + height_header);
      console.log("height_navBar = " + height_navBar);
      top = this.scrollY;
      console.log("this", this);

      console.log(top);
      console.log("top = " + top);
      if (top > height_header - height_navBar) {
        console.log("to top");
        navBarElem.classList.remove("nav-bar_bottom");
        navBarElem.classList.add("nav-bar_top-fixed");
      } else {
        //console.log("to bottom");
        navBarElem.classList.add("nav-bar_bottom");
        navBarElem.classList.remove("nav-bar_top-fixed");
      }
    }

    window.onresize = calculateScroll;
    window.addEventListener("scroll", calculateScroll);

    // close open menu

    $(document).ready(function () {
      $('#nav-icon1,#nav-icon2,#nav-mobile,#nav-icon4').click(function () {
        $(this).toggleClass('open');
        let navDesktop = document.getElementsByClassName("nav-desktop")[0];
        if (navDesktop.classList.contains("nav-desktop_active"))
          navDesktop.classList.remove("nav-desktop_active");
        else
          navDesktop.classList.add("nav-desktop_active");
        calculateScroll();
      });
    });
  }

  document.addEventListener("DOMContentLoaded", loadFunction);


</script>

</html>
